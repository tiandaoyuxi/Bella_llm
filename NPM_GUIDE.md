# è´æ‹‰é¡¹ç›® NPM ä½¿ç”¨æŒ‡å—

## ğŸ“¦ å¯ç”¨çš„NPMå‘½ä»¤

### ğŸš€ å¯åŠ¨å‘½ä»¤

```bash
# ä¸€é”®å¯åŠ¨è´æ‹‰ï¼ˆæ¨èï¼‰
npm run bella
# åŒæ—¶å¯åŠ¨åç«¯æœåŠ¡å™¨å’Œå‰ç«¯æœåŠ¡

# ä»…å¯åŠ¨åç«¯æœåŠ¡å™¨
npm start
# å¯åŠ¨Ollamaä»£ç†æœåŠ¡å™¨ (ç«¯å£3001)

# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
# ä½¿ç”¨nodemonï¼Œä»£ç ä¿®æ”¹æ—¶è‡ªåŠ¨é‡å¯

# ä»…å¯åŠ¨å‰ç«¯æœåŠ¡
npm run client
# å¯åŠ¨é™æ€æ–‡ä»¶æœåŠ¡å™¨ (ç«¯å£8000)
```

## ğŸ”§ å®‰è£…å’Œè®¾ç½®

### é¦–æ¬¡å®‰è£…
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
npm install

# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼ˆWindowsï¼‰
npm install --force
```

### ä¾èµ–è¯´æ˜

**æ ¸å¿ƒä¾èµ–ï¼š**
- `express` - WebæœåŠ¡å™¨æ¡†æ¶
- `ollama` - Ollama APIå®¢æˆ·ç«¯
- `cors` - è·¨åŸŸèµ„æºå…±äº«
- `@xenova/transformers` - æœ¬åœ°AIæ¨¡å‹

**å¼€å‘ä¾èµ–ï¼š**
- `nodemon` - å¼€å‘æ—¶è‡ªåŠ¨é‡å¯
- `concurrently` - åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤

## ğŸŒ ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | ç”¨é€” |
|------|------|------|
| å‰ç«¯ | 8000 | è´æ‹‰ä¸»ç•Œé¢ |
| åç«¯ | 3001 | APIæœåŠ¡å™¨ |
| Ollama | 11434 | LLMæ¨¡å‹æœåŠ¡ |

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3001
netstat -ano | findstr :8000

# æ€æ­»å ç”¨è¿›ç¨‹ï¼ˆWindowsï¼‰
taskkill /PID <è¿›ç¨‹ID> /F
```

### é—®é¢˜2ï¼šä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
rmdir /s node_modules
npm install
```

### é—®é¢˜3ï¼šOllamaè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥Ollamaæ˜¯å¦è¿è¡Œ
curl http://localhost:11434/api/tags

# å¯åŠ¨OllamaæœåŠ¡
ollama serve
```

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘
```bash
# 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run bella

# 2. ä¿®æ”¹ä»£ç åï¼Œåç«¯ä¼šè‡ªåŠ¨é‡å¯
# 3. å‰ç«¯åˆ·æ–°æµè§ˆå™¨å³å¯çœ‹åˆ°æ›´æ”¹
```

### è°ƒè¯•æ¨¡å¼
```bash
# åˆ†åˆ«å¯åŠ¨æœåŠ¡ï¼Œä¾¿äºè°ƒè¯•
# ç»ˆç«¯1
npm run dev

# ç»ˆç«¯2  
npm run client

# ç»ˆç«¯3ï¼ˆå¯é€‰ï¼‰
ollama serve
```

## ğŸ“ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç«¯å£
ç¼–è¾‘ç›¸åº”æ–‡ä»¶ï¼š

**åç«¯ç«¯å£ (server.js):**
```javascript
const port = 3001; // ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£
```

**å‰ç«¯ç«¯å£:**
```bash
# ä¿®æ”¹package.jsonä¸­çš„clientå‘½ä»¤
"client": "python -m http.server 9000"
```

### æ·»åŠ æ–°çš„NPMè„šæœ¬
åœ¨ `package.json` ä¸­æ·»åŠ ï¼š
```json
{
  "scripts": {
    "test": "echo \"æµ‹è¯•è´æ‹‰åŠŸèƒ½\"",
    "build": "echo \"æ„å»ºç”Ÿäº§ç‰ˆæœ¬\"",
    "clean": "rmdir /s node_modules"
  }
}
```

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### å‡†å¤‡ç”Ÿäº§ç¯å¢ƒ
```bash
# å®‰è£…ç”Ÿäº§ä¾èµ–
npm install --production

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
NODE_ENV=production npm start
```

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `pm2` è¿›ç¨‹ç®¡ç†å™¨
- é…ç½®åå‘ä»£ç†ï¼ˆnginxï¼‰
- å¯ç”¨gzipå‹ç¼©

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

```bash
# æŸ¥çœ‹ä¾èµ–æ ‘
npm list

# æ£€æŸ¥è¿‡æ—¶çš„åŒ…
npm outdated

# æ›´æ–°ä¾èµ–
npm update
```

---

**å¿«é€Ÿå¼€å§‹ï¼šè¿è¡Œ `npm run bella` å³å¯å¯åŠ¨å®Œæ•´çš„è´æ‹‰ä½“éªŒï¼** ğŸŒ¸